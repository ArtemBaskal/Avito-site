{"version":3,"sources":["components/FavoritesLink.js","history.js","actions/index.js","actions/types.js","components/filters/CategoryFilter.js","components/filters/PriceFilter.js","components/Sorting.js","components/Navigation.js","components/Header.js","components/Product.js","components/FavoritesList.js","Pages/FavoritesPage.js","components/ProductsList.js","Pages/MainPage.js","components/App.js","helpers/radixSort.js","reducers/productsReducer.js","reducers/index.js","reducers/favoritesReducer.js","index.js"],"names":["FavoritesLink","createHistory","require","createBrowserHistory","react_default","a","createElement","className","react_router_dom","to","width","height","xmlns","d","fill","fillRule","API","filterByCategory","filterCategory","_ref2","Object","asyncToGenerator","regenerator_default","mark","_callee2","dispatch","productsData","wrap","_context2","prev","next","axios","get","concat","t0","_ref3","category","t1","sent","data","filter","t2","products","sellers","abrupt","type","payload","stop","_x2","apply","this","arguments","CAREGORIES","ru","en","FilterByCategory","useDispatch","name","onChange","e","target","value","defaultValue","disabled","map","_ref","key","toUpperCase","INPUTS","minPrice","id","placeholder","text","style","maxPrice","INITIAL_STATE","isBlured","state","onFormSubmit","preventDefault","_this","setState","props","filterByPrice","onInputChange","_ref$target","defineProperty","objectSpread","onInputBlur","_this$state","Number","replace","copyMinPriceState","formatPrice","price","formattedPrice","units","degree","decimals","priceValue","toLocaleString","Math","pow","toFixed","getValue","_this$state$id","_this2","onSubmit","values","_ref4","maxLength","onBlur","onFocus","autoComplete","length","React","Component","connect","minMaxPrice","_callee3","_context3","_x3","OPTIONS","default","order","param","popular","cheap","expensive","Sorting","sortByParam","Navigation","handleCategorySelect","src","alt","onClick","Header","components_FavoritesLink","components_Navigation","filters_CategoryFilter","filters_PriceFilter","components_Sorting","Product","params","timestamp","Date","now","onHeartClick","_this$props","changeFavoriteStatus","isFavorite","isSmall","window","location","reload","classNamy","localStorage","_this$props2","title","pictures","sellerName","sellerRating","favorites","item","FavoritesList","sortedParsedList","adv","JSON","parse","sort","adv1","adv2","alert","console","log","clear","components_Product","FavoritesPage","components_Header","components_FavoritesList","ProductsList","apiProducts","useSelector","useEffect","_callee","_context","_x","seller","relationships","rating","MainPage","components_ProductsList","App","basename","react_router","path","exact","component","getDigit","num","i","floor","abs","radixSort","arr","sortByKey","maxDigitCount","nums","maxDigits","max","log10","mostDigits","obj","_loop","k","digitBuckets","Array","from","digit","push","cb","bucket","current","reduce","reduceRight","combineReducers","undefined","action","_action$payload","Infinity","_action$payload2","productA","productB","stringify","error","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","thunk","ReactDOM","render","es","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.0229a5c1.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"../styles/FavoritesLink.css\";\r\n\r\nconst FavoritesLink = () => (\r\n  <ul className=\"favorites-link\">\r\n    <Link to=\"/favorites\">\r\n      <svg width=\"21\" height=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n        <path\r\n          d=\"M10.918 5.085a5.256 5.256 0 0 1 7.524 0c2.077 2.114 2.077 5.541 0 7.655l-7.405 7.534a.75.75 0 0 1-1.074 0L2.558 12.74c-2.077-2.114-2.077-5.54 0-7.655a5.256 5.256 0 0 1 7.524 0c.15.152.289.312.418.479.13-.167.269-.327.418-.479z\"\r\n          fill=\"#CCC\"\r\n          fillRule=\"nonzero\"\r\n        />\r\n      </svg>\r\n    </Link>\r\n  </ul>\r\n);\r\n\r\nexport default FavoritesLink;\r\n","const createHistory = require(\"history\").createBrowserHistory;\r\n\r\nexport default createHistory();\r\n","import axios from \"axios\";\r\nimport {\r\n  FETCH_PRODUCTS,\r\n  CHANGE_FAVORITE_STATUS,\r\n  FILTER_BY_CATEGORY,\r\n  FILTER_BY_PRICE,\r\n  SORT_BY_PARAM\r\n} from \"./types\";\r\n\r\nconst API = \"https://avito.dump.academy\";\r\n\r\nexport const fetchProducts = () => async dispatch => {\r\n  const productsData = {\r\n    products: (await axios.get(`${API}/products`)).data.data,\r\n    sellers: (await axios.get(`${API}/sellers`)).data.data\r\n  };\r\n\r\n  return dispatch({\r\n    type: FETCH_PRODUCTS,\r\n    payload: productsData\r\n  });\r\n};\r\n\r\nexport const filterByCategory = filterCategory => async dispatch => {\r\n  //TODO: EPIC\r\n  const productsData = {\r\n    products: (await axios.get(`${API}/products`)).data.data.filter(\r\n      ({ category }) => category === filterCategory\r\n    ),\r\n    sellers: (await axios.get(`${API}/sellers`)).data.data\r\n  };\r\n\r\n  return dispatch({\r\n    type: FILTER_BY_CATEGORY,\r\n    payload: productsData\r\n  });\r\n};\r\n\r\nexport const filterByPrice = minMaxPrice => async dispatch => {\r\n  const productsData = {\r\n    products: (await axios.get(`${API}/products`)).data.data,\r\n    sellers: (await axios.get(`${API}/sellers`)).data.data\r\n  };\r\n  return dispatch({\r\n    type: FILTER_BY_PRICE,\r\n    payload: { ...minMaxPrice, ...productsData }\r\n  });\r\n};\r\n\r\nexport const sortByParam = param => {\r\n  return {\r\n    type: SORT_BY_PARAM,\r\n    payload: param\r\n  };\r\n};\r\n\r\nexport const changeFavoriteStatus = item => {\r\n  return {\r\n    type: CHANGE_FAVORITE_STATUS,\r\n    payload: item\r\n  };\r\n};\r\n","export const FETCH_PRODUCTS = \"FETCH_PRODUCTS\";\r\nexport const CHANGE_FAVORITE_STATUS = \"CHANGE_FAVORITE_STATUS\";\r\nexport const FILTER_BY_CATEGORY = \"FILTER_BY_CATEGORY\";\r\nexport const FILTER_BY_PRICE = \"FILTER_BY_PRICE\";\r\nexport const SORT_BY_PARAM = \"SORT_BY_PARAM\";\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { filterByCategory } from \"../../actions\";\r\nimport \"../../styles/CategoryFilter.css\";\r\n\r\nexport const CAREGORIES = [\r\n  { ru: \"Недвижимость\", en: \"immovable\" },\r\n  { ru: \"Автомобили\", en: \"auto\" },\r\n  { ru: \"Фотоаппараты\", en: \"cameras\" },\r\n  { ru: \"Ноутбуки\", en: \"laptops\" }\r\n];\r\n\r\nconst FilterByCategory = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const handleFilterSelect = e => {\r\n    dispatch(filterByCategory(e.target.value));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <select\r\n        name=\"type\"\r\n        onChange={handleFilterSelect}\r\n        defaultValue=\"Любая категория\"\r\n        className=\"category-filter-select\"\r\n      >\r\n        <option value=\"Любая категория\" disabled>\r\n          Любая категория\r\n        </option>\r\n        {CAREGORIES &&\r\n          CAREGORIES.map(({ en, ru }) => (\r\n            <option key={en} value={en} className=\"category-filter-option\">\r\n              {ru.toUpperCase()}\r\n            </option>\r\n          ))}\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilterByCategory;\r\n","import React from \"react\";\r\nimport { filterByPrice } from \"../../actions\";\r\nimport { connect } from \"react-redux\";\r\nimport \"../../styles/PriceFilter.css\";\r\n\r\nconst INPUTS = {\r\n  minPrice: {\r\n    id: \"minPrice\",\r\n    placeholder: \"Цена от\",\r\n    text: \"от\",\r\n    style: \"left\"\r\n  },\r\n  maxPrice: {\r\n    id: \"maxPrice\",\r\n    placeholder: \"до, руб\",\r\n    text: \"до\",\r\n    style: \"right\"\r\n  }\r\n};\r\n\r\nconst INITIAL_STATE = {\r\n  maxPrice: { value: \"\", isBlured: true },\r\n  minPrice: { value: \"\", isBlured: true }\r\n};\r\n\r\nclass FilterByCategory extends React.Component {\r\n  state = INITIAL_STATE;\r\n\r\n  onFormSubmit = e => {\r\n    e.preventDefault();\r\n    this.setState(INITIAL_STATE);\r\n    this.props.filterByPrice(this.state);\r\n  };\r\n\r\n  onInputChange = ({ target: { id, value } }) => {\r\n    this.setState({\r\n      [id]: { ...this.state[id], value }\r\n    });\r\n  };\r\n\r\n  onInputBlur = ({ target: { id } }) => {\r\n    const { minPrice, maxPrice } = this.state;\r\n\r\n    if (\r\n      maxPrice.value &&\r\n      Number(minPrice.value.replace(/\\D/g, \"\")) >\r\n        Number(maxPrice.value.replace(/\\D/g, \"\"))\r\n    ) {\r\n      const copyMinPriceState = { ...this.state.minPrice };\r\n\r\n      this.setState(state => ({\r\n        minPrice: {\r\n          ...state.maxPrice,\r\n          isBlured: true\r\n        },\r\n        maxPrice: {\r\n          ...copyMinPriceState,\r\n          isBlured: true\r\n        }\r\n      }));\r\n    } else {\r\n      this.setState(state => ({\r\n        [id]: {\r\n          ...state[id],\r\n          isBlured: !state[id].isBlured\r\n        }\r\n      }));\r\n    }\r\n  };\r\n\r\n  formatPrice = (price, isBlured) => {\r\n    let formattedPrice = \"\",\r\n      units = \"\",\r\n      degree = 0,\r\n      decimals = 0;\r\n\r\n    const priceValue = Number(price.replace(/\\D/g, \"\"));\r\n\r\n    formattedPrice = price && priceValue.toLocaleString();\r\n\r\n    if (priceValue >= 99500) {\r\n      degree = 3;\r\n      units = \"тыс.\";\r\n    }\r\n    if (priceValue >= 999500) {\r\n      degree = 6;\r\n      decimals = 2;\r\n      units = \"млн.\";\r\n    }\r\n    if (priceValue >= 999999500) {\r\n      degree = 9;\r\n      units = \"млрд.\";\r\n    }\r\n    return isBlured\r\n      ? `${(priceValue / 10 ** degree)\r\n          .toFixed(decimals)\r\n          .replace(\".\", \",\")} ${units}`\r\n      : formattedPrice;\r\n  };\r\n\r\n  getValue = id => {\r\n    const { isBlured, value } = this.state[id];\r\n    const { text } = INPUTS[id];\r\n    return (\r\n      value && `${isBlured ? text : \"\"} ${this.formatPrice(value, isBlured)}`\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { products } = this.props.products;\r\n    return (\r\n      <div>\r\n        <form onSubmit={this.onFormSubmit} className=\"price-filter-form\">\r\n          <label className=\"price-filter-label\">Цена</label>\r\n          <div>\r\n            {INPUTS &&\r\n              Object.values(INPUTS).map(({ id, placeholder, style }) => (\r\n                <input\r\n                  key={id}\r\n                  id={id}\r\n                  type=\"text\"\r\n                  maxLength={17}\r\n                  value={this.getValue(id)}\r\n                  placeholder={placeholder}\r\n                  onChange={this.onInputChange}\r\n                  onBlur={this.onInputBlur}\r\n                  onFocus={this.onInputBlur}\r\n                  className={`price-filter-input ${style}`}\r\n                  autoComplete=\"off\"\r\n                />\r\n              ))}\r\n            <button type=\"submit\" className=\"price-filter-btn\">\r\n              {products\r\n                ? `Показать ${products.length} объявлений`\r\n                : \"Показать объявления\"}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  products: state.products\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { filterByPrice }\r\n)(FilterByCategory);\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { sortByParam } from \"../actions\";\r\nimport \"../styles/Sorting.css\";\r\n\r\nconst OPTIONS = {\r\n  default: { order: \"ASC\", param: \"id\", en: \"default\", ru: \"По умолчанию\" },\r\n  popular: { order: \"DESC\", param: \"rating\", en: \"popular\", ru: \"Популярнее\" },\r\n  cheap: { order: \"ASC\", param: \"price\", en: \"cheap\", ru: \"Дешевле\" },\r\n  expensive: { order: \"DESC\", param: \"price\", en: \"expensive\", ru: \"Дороже\" }\r\n};\r\n\r\nconst Sorting = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const handleSortSelect = e => {\r\n    const param = OPTIONS[e.target.value];\r\n    dispatch(sortByParam(param));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <label className=\"sorting-label\">Сортировать</label>\r\n      <select\r\n        name=\"type\"\r\n        defaultValue=\"По умолчанию\"\r\n        onChange={handleSortSelect}\r\n        className=\"sorting-select\"\r\n      >\r\n        {OPTIONS &&\r\n          Object.values(OPTIONS).map(({ en, ru }) => (\r\n            <option key={en} value={en}>\r\n              {ru}\r\n            </option>\r\n          ))}\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Sorting;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { CAREGORIES } from \"./filters/CategoryFilter\";\r\nimport { filterByCategory } from \"../actions\";\r\nimport \"../styles/Navigation.css\";\r\n\r\nconst Navigation = () => {\r\n  const dispatch = useDispatch();\r\n  const handleCategorySelect = e => {\r\n    dispatch(filterByCategory(e.target.id));\r\n  };\r\n  return (\r\n    <nav>\r\n      <ul>\r\n        <Link to=\"/\">\r\n          <img\r\n            src=\"https://www.avito.st/s/cc/resources/35f5a0d67b53.svg\"\r\n            alt=\"avito\"\r\n            style={{ width: \"120px\" }}\r\n            className=\"nav-avito-logo\"\r\n          />\r\n        </Link>\r\n        {CAREGORIES &&\r\n          CAREGORIES.map(({ en, ru }) => (\r\n            <li\r\n              key={en}\r\n              id={en}\r\n              className=\"nav-category-li\"\r\n              onClick={handleCategorySelect}\r\n            >\r\n              {ru}\r\n            </li>\r\n          ))}\r\n      </ul>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","import React from \"react\";\r\nimport FavoritesLink from \"./FavoritesLink\";\r\nimport CategoryFilter from \"./filters/CategoryFilter\";\r\nimport PriceFilter from \"./filters/PriceFilter\";\r\nimport Sorting from \"./Sorting\";\r\nimport Navigation from \"./Navigation\";\r\n\r\nconst Header = () => (\r\n  <div>\r\n    <FavoritesLink />\r\n    <Navigation />\r\n    <CategoryFilter />\r\n    <PriceFilter />\r\n    <Sorting />\r\n  </div>\r\n);\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport { changeFavoriteStatus } from \"../actions\";\r\nimport { connect } from \"react-redux\";\r\nimport \"../styles/Product.css\";\r\n\r\nclass Product extends React.Component {\r\n  params = { ...this.props, timestamp: Date.now() };\r\n\r\n  onHeartClick = () => {\r\n    const { changeFavoriteStatus, isFavorite, isSmall } = this.props;\r\n    isFavorite && !isSmall && window.location.reload();\r\n    changeFavoriteStatus(this.params);\r\n  };\r\n\r\n  classNamy = (id, isFavorite, isSmall) => {\r\n    if (isSmall) return `small ${localStorage[id] ? `selected` : ``}`;\r\n    if (isFavorite && !isSmall) return `fav-js-favorites-add-icon`;\r\n    if (!isSmall)\r\n      return `js-favorites-add-icon ${localStorage[id] ? `selected` : ``}`;\r\n  };\r\n  render() {\r\n    const {\r\n      id,\r\n      title,\r\n      pictures,\r\n      price,\r\n      sellerName,\r\n      sellerRating,\r\n      isFavorite,\r\n      isSmall\r\n    } = this.props;\r\n    return (\r\n      <div className=\"product\">\r\n        <header title={`Объявление ${title}`} className=\"product-header\">\r\n          <i\r\n            className={this.classNamy(id, isFavorite, isSmall)}\r\n            onClick={this.onHeartClick}\r\n            title=\"Добавить в избранное и в сравнение\"\r\n          />\r\n          <img\r\n            src={pictures[0]}\r\n            alt={title}\r\n            className={isFavorite ? \"fav-product-image\" : \"product-image\"}\r\n          />\r\n          <div className=\"img-number\">{pictures.length}</div>\r\n        </header>\r\n        <div>\r\n          <span className=\"title\" title={title}>\r\n            {title}\r\n          </span>\r\n          <span className=\"price\">\r\n            {price ? `${price.toLocaleString()} ₽` : \"Цена не указана\"}\r\n          </span>\r\n          {!isSmall && (\r\n            <div>\r\n              <div>{sellerName}</div>\r\n              <div>{sellerRating}</div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  favorites: state.favorites\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { changeFavoriteStatus }\r\n)(Product);\r\n","import React from \"react\";\r\nimport Product from \"./Product\";\r\n\r\nconst FavoritesList = ({ isSmall }) => {\r\n  //localStorage хранит файлы в случайном порядке, сортируем их по дате добавления - новые сверху\r\n  let sortedParsedList;\r\n  try {\r\n    sortedParsedList = Object.values(localStorage)\r\n      .map(adv => {\r\n        return JSON.parse(adv);\r\n      })\r\n      .sort((adv1, adv2) => adv1.timestamp - adv2.timestamp);\r\n  } catch (e) {\r\n    alert(\r\n      \"Ошибка! Неверный формат элемента (нестроковый тип) в localStorage. Оно будет очищено.\"\r\n    );\r\n    console.log(e);\r\n    localStorage.clear();\r\n    sortedParsedList = [];\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {!!sortedParsedList.length && (\r\n        <h3 className=\"favorites-title\">Избранное</h3>\r\n      )}\r\n      {sortedParsedList.map(\r\n        ({ id, title, pictures, price, sellerName, sellerRating }) => (\r\n          <Product\r\n            id={id}\r\n            key={id}\r\n            title={title}\r\n            price={price}\r\n            pictures={pictures}\r\n            sellerName={sellerName}\r\n            sellerRating={sellerRating}\r\n            isFavorite\r\n            isSmall={isSmall}\r\n          />\r\n        )\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FavoritesList;\r\n","import React from \"react\";\r\nimport Header from \"../components/Header\";\r\nimport FavoritesList from \"../components/FavoritesList\";\r\nimport \"../styles/FavoritesPage.css\";\r\n\r\nconst FavoritesPage = () => (\r\n  <div className=\"favorites-page\">\r\n    <Header />\r\n    <FavoritesList />\r\n  </div>\r\n);\r\n\r\nexport default FavoritesPage;\r\n","import React, { useEffect } from \"react\";\r\nimport { fetchProducts } from \"../actions\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport Product from \"./Product\";\r\nimport \"../styles/ProductsList.css\";\r\n\r\nconst ProductsList = state => {\r\n  const apiProducts = useSelector(state => state.products);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchProducts());\r\n    // eslint-disable-next-line\r\n  }, {});\r\n\r\n  return (\r\n    <div className=\"products-list\">\r\n      {apiProducts.products &&\r\n        apiProducts.products.map(\r\n          ({ id, title, pictures, price, relationships: { seller } }) => {\r\n            return (\r\n              <Product\r\n                key={id}\r\n                id={id}\r\n                title={title}\r\n                price={price}\r\n                pictures={pictures}\r\n                sellerName={apiProducts.sellers[seller].name}\r\n                sellerRating={apiProducts.sellers[seller].rating}\r\n              />\r\n            );\r\n          }\r\n        )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductsList;\r\n","import React from \"react\";\r\nimport Header from \"../components/Header\";\r\nimport ProductsList from \"../components/ProductsList\";\r\nimport FavoritesList from \"../components/FavoritesList\";\r\nimport \"../styles/MainPage.css\";\r\n\r\nconst MainPage = () => (\r\n  <div className=\"main-page\">\r\n    <Header />\r\n    <ProductsList />\r\n    <FavoritesList isSmall />\r\n  </div>\r\n);\r\n\r\nexport default MainPage;\r\n","import React from \"react\";\r\nimport { HashRouter, Route, Switch } from \"react-router-dom\";\r\nimport history from \"../history\";\r\nimport FavoritesPage from \"../Pages/FavoritesPage\";\r\nimport MainPage from \"../Pages/MainPage\";\r\n\r\nconst App = () => (\r\n  <HashRouter basename=\"/\">\r\n    <Switch>\r\n      <Route path=\"/\" exact component={MainPage} />\r\n      <Route path=\"/favorites\" exact component={FavoritesPage} />\r\n    </Switch>\r\n  </HashRouter>\r\n);\r\n\r\nexport default App;\r\n","//O(n*k), n - length of array, k - length of largest number\r\n\r\nfunction getDigit(num, i) {\r\n  return Math.floor(Math.abs(num) / Math.pow(10, i)) % 10;\r\n}\r\n\r\nfunction digitCount(num) {\r\n  if (num === 0) return 1;\r\n  return Math.floor(Math.log10(Math.abs(num))) + 1;\r\n}\r\n\r\nfunction mostDigits(nums) {\r\n  let maxDigits = 0;\r\n  for (let i = 0; i < nums.length; i++) {\r\n    maxDigits = Math.max(maxDigits, digitCount(nums[i]));\r\n  }\r\n  return maxDigits;\r\n}\r\n\r\nexport default function radixSort(arr, sortByKey, order) {\r\n  let nums = arr.map(obj => obj[sortByKey] || 0);\r\n  let maxDigitCount = mostDigits(nums);\r\n\r\n  for (let k = 0; k < maxDigitCount; k++) {\r\n    let digitBuckets = Array.from({ length: 10 }, () => []);\r\n\r\n    for (let i = 0; i < arr.length; i++) {\r\n      let digit = getDigit(arr[i][sortByKey] || 0, k);\r\n      digitBuckets[digit].push(arr[i]);\r\n    }\r\n\r\n    //eslint-disable-next-line\r\n    (function flatten() {\r\n      arr = [];\r\n      const cb = (bucket, current) => (arr = bucket.concat(current));\r\n\r\n      return order === \"ASC\"\r\n        ? digitBuckets.reduce(cb)\r\n        : digitBuckets.reduceRight(cb);\r\n    })();\r\n  }\r\n\r\n  return arr;\r\n}\r\n","import {\r\n  FETCH_PRODUCTS,\r\n  FILTER_BY_CATEGORY,\r\n  FILTER_BY_PRICE,\r\n  SORT_BY_PARAM\r\n} from \"../actions/types\";\r\nimport radixSort from \"../helpers/radixSort\";\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case FETCH_PRODUCTS:\r\n    case FILTER_BY_CATEGORY:\r\n      return action.payload;\r\n\r\n    case FILTER_BY_PRICE: {\r\n      let { minPrice, maxPrice, products, sellers } = action.payload;\r\n\r\n      minPrice = Number(minPrice.value.replace(/\\D/g, \"\") || -Infinity);\r\n      maxPrice = Number(maxPrice.value.replace(/\\D/g, \"\") || Infinity);\r\n\r\n      return {\r\n        products: products.filter(\r\n          ({ price }) => (price || 0) > minPrice && (price || 0) < maxPrice\r\n        ),\r\n        sellers\r\n      };\r\n    }\r\n\r\n    case SORT_BY_PARAM: {\r\n      const { products, sellers } = state;\r\n      const { param, order } = action.payload;\r\n\r\n      const sortByRating = products =>\r\n        products.sort(\r\n          (productA, productB) =>\r\n            sellers[productB.relationships.seller].rating -\r\n            sellers[productA.relationships.seller].rating\r\n        );\r\n\r\n      const sortByParam = param === \"rating\" ? sortByRating : radixSort;\r\n\r\n      return {\r\n        products: sortByParam(products, param, order),\r\n        sellers\r\n      };\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from \"redux\";\r\nimport productsReducer from \"./productsReducer\";\r\nimport favoritesReducer from \"./favoritesReducer\";\r\n\r\nexport default combineReducers({\r\n  products: productsReducer,\r\n  favorites: favoritesReducer\r\n});\r\n","import { CHANGE_FAVORITE_STATUS } from \"../actions/types\";\r\n\r\nexport default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case CHANGE_FAVORITE_STATUS:\r\n      const { id } = action.payload;\r\n      try {\r\n        if (!localStorage[id]) {\r\n          localStorage[id] = JSON.stringify(action.payload);\r\n        } else {\r\n          delete localStorage[id];\r\n          delete state[id];\r\n          return {\r\n            ...state\r\n            // [id]: null\r\n          };\r\n        }\r\n      } catch (e) {\r\n        console.error(e);\r\n        alert(\"Ошибка! В localStorage превышен лимит, оно будет очищено.\");\r\n        localStorage.clear();\r\n      }\r\n      return {\r\n        ...state,\r\n        [id]: action.payload\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { createStore, compose, applyMiddleware } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport App from \"./components/App\";\r\n\r\nimport reducers from \"./reducers\";\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunk)));\r\n\r\n// store.subscribe(() => console.log(\"STORE: \", store.getState()));\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}